<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
    <div th:fragment="pop-up-fragment" id="pop-up" class="pop-up-overlay" style="display:none;">
        <div class="pop-up-window">
            <span class="close-btn">&times;</span>
            <div class="pop-up-grid">
                <div class="pop-up-image">
                    <div class="carousel-container">
                        
                        <div class="carousel-viewport">
                            <div class="mobile-shield" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 8;"></div>
                            <!-- Кнопки теперь будут мерить высоту этого блока -->
                            <button class="carousel-prev" onclick="changeSlide(-1)">❮</button>
                            <button class="carousel-next" onclick="changeSlide(1)">❯</button>
                            
                            <div id="carousel-slides" class="carousel-slides">
                                <img id="modal-img" src="" alt="Изображение устройства">
                            </div>
                        </div>
                            
                        <!-- Индикатор (точки) -->
                        <div id="carousel-dots" class="carousel-dots"></div>
                    </div>
                    <!-- <img id="modal-img" src="" alt="Изображение устройства"> -->
                </div>
                <div class="pop-up-info">
                    <h2 id="modal-title"></h2>
                    <p id="modal-desc"></p>
                    <div class="modal-price" id="modal-price"></div>
                    
                    <!-- Ваша форма заказа -->
                    <form id="orderForm">
                        <input type="hidden" name="productName" id="hiddenProductName">
                        <input type="text" name="userName" placeholder="Ваше имя" required>
                        <input type="text" name="userCity" placeholder="Ваш город" required>
                        <input type="tel" name="userPhone" placeholder="Ваш телефон" required>
                        <div class="privacy-policy">
                            <input type="checkbox" id="privacy-check" required>
                            <label for="privacy-check">
                                Я согласен на <a href="/privacy" target="_blank">обработку персональных данных</a>
                            </label>
                        </div>
                        <button type="submit" id="order-btn" class="order-button">Заказать</button>
                    </form>
                    <div id="statusMessage"></div>
                </div>
            </div>
        </div>
                <!-- Полноэкранный просмотр фото -->
        <div id="full-size-viewer" class="full-size-overlay" style="display:none;" onclick="closeFullSize()">
            <span class="full-size-close">&times;</span>
            <img id="full-size-img" src="" alt="Full size">
        </div>
    </div>
</body>
</html>
